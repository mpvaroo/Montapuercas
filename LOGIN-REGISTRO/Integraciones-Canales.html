<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Integraciones · Canales | AutomAI Solutions</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <style>
    body{background:#f8f9fa;font-family:'Segoe UI',sans-serif;overflow-x:hidden}
    .sidebar{width:240px;height:100vh;background:#fff;position:fixed;left:0;top:0;box-shadow:2px 0 10px rgba(0,0,0,.1);padding-top:1.5rem}
    .sidebar h4{text-align:center;color:#0077b6;margin-bottom:2rem}
    .sidebar a{display:block;color:#333;text-decoration:none;padding:10px 20px;border-radius:6px;margin:4px 10px;transition:.2s}
    .sidebar a:hover,.sidebar a.active{background:#0077b6;color:#fff}
    .navbar-top{margin-left:240px;height:60px;background:#fff;box-shadow:0 2px 8px rgba(0,0,0,.1);display:flex;align-items:center;justify-content:space-between;padding:0 1.5rem;position:sticky;top:0;z-index:100}
    .main-content{margin-left:240px;padding:2rem}
    .card-int{border:none;border-radius:12px;background:#fff;box-shadow:0 2px 10px rgba(0,0,0,.05)}
    .card-int .header{display:flex;align-items:center;justify-content:space-between}
    .status-dot{width:10px;height:10px;border-radius:50%;display:inline-block;margin-right:.4rem}
    .dot-ok{background:#28a745}.dot-off{background:#6c757d}.dot-warn{background:#ffc107}
    .small-help{font-size:.85rem;color:#6c757d}
    footer{text-align:center;padding:1rem;font-size:.9rem;color:#777;margin-top:3rem}
    .icon{width:28px;height:28px;margin-right:.5rem}
  </style>
</head>
<body>
  <!-- Sidebar -->
  <aside class="sidebar">
    <h4>AutomAI</h4>
    <a href="dashboard.html">🏠 Dashboard</a>
    <a href="chatbot-configuracion.html">🤖 Configurar Chatbot</a>
    <a href="integraciones-canales.html" class="active">🔌 Integraciones</a>
    <a href="Reportes-Dashboard.html">📊 Reportes</a>
    <a href="Usuarios-Gestion.html">👥 Usuarios</a>
    <a href="Configuracion-General.html">⚙️ Ajustes</a>
    <a href="Soporte-Ayuda.html">💬 Soporte</a>
    <hr>
    <a href="#" class="text-danger">🚪 Cerrar sesión</a>
  </aside>

  <!-- Navbar -->
  <nav class="navbar-top">
    <h5 class="m-0">Integraciones · Canales conectados</h5>
    <div class="user-info">
      <span class="text-muted small me-2">Usuario: <strong>admin@empresa.com</strong></span>
      <img src="https://cdn-icons-png.flaticon.com/512/3177/3177440.png" alt="Usuario" width="35" height="35" class="rounded-circle">
    </div>
  </nav>

  <!-- Main -->
  <main class="main-content">
    <div class="d-flex justify-content-between align-items-center mb-2">
      <h4>Canales conectados</h4>
      <div class="d-flex gap-2">
        <a class="btn btn-outline-secondary btn-sm" href="Integraciones-CRMSheets.html">CRM & Sheets</a>
        <a class="btn btn-outline-secondary btn-sm" href="integraciones-historial.html">Historial de sincronización</a>
      </div>
    </div>
    <p class="text-muted mb-4">Conecta y administra los canales por los que tu chatbot atenderá a clientes. Prueba el canal tras conectarlo para verificar su funcionamiento.</p>

    <div class="row g-4">
      <!-- WhatsApp -->
      <div class="col-lg-6">
        <div class="card card-int">
          <div class="card-body">
            <div class="header mb-2">
              <div class="d-flex align-items-center">
                <img class="icon" src="https://cdn-icons-png.flaticon.com/512/733/733585.png" alt="WA">
                <h5 class="m-0">WhatsApp Business API</h5>
              </div>
              <span class="badge bg-success"><span class="status-dot dot-ok"></span>Conectado</span>
            </div>
            <p class="small-help mb-3">Responde a tus clientes directamente en WhatsApp. Requiere número verificado y proveedor (Cloud API).</p>
            <div class="row g-3">
              <div class="col-md-6">
                <label class="form-label">Access Token</label>
                <input type="text" class="form-control" placeholder="EAAB... (oculto)">
              </div>
              <div class="col-md-6">
                <label class="form-label">Phone Number ID</label>
                <input type="text" class="form-control" placeholder="1234567890">
              </div>
              <div class="col-12">
                <label class="form-label">Webhook URL</label>
                <div class="input-group">
                  <input type="text" class="form-control" value="https://api.automa i.solutions/webhooks/whatsapp" readonly>
                  <button class="btn btn-outline-secondary">Copiar</button>
                </div>
                <div class="small-help mt-1">Configura esta URL en el panel de Meta (suscripciones: messages, message_template).</div>
              </div>
            </div>
            <div class="d-flex justify-content-end gap-2 mt-3">
              <button class="btn btn-outline-danger btn-sm">Desconectar</button>
              <button class="btn btn-primary btn-sm">Probar canal</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Telegram -->
      <div class="col-lg-6">
        <div class="card card-int">
          <div class="card-body">
            <div class="header mb-2">
              <div class="d-flex align-items-center">
                <img class="icon" src="https://cdn-icons-png.flaticon.com/512/2111/2111646.png" alt="TG">
                <h5 class="m-0">Telegram Bot</h5>
              </div>
              <span class="badge bg-secondary"><span class="status-dot dot-off"></span>No conectado</span>
            </div>
            <p class="small-help mb-3">Crea tu bot con @BotFather y pega aquí el token para activarlo.</p>
            <div class="row g-3">
              <div class="col-md-8">
                <label class="form-label">Bot Token</label>
                <input type="text" class="form-control" placeholder="123456:ABC-DEF...">
              </div>
              <div class="col-md-4">
                <label class="form-label">Username</label>
                <input type="text" class="form-control" placeholder="@MiBot">
              </div>
              <div class="col-12">
                <label class="form-label">Webhook URL</label>
                <div class="input-group">
                  <input type="text" class="form-control" value="https://api.automai.solutions/webhooks/telegram" readonly>
                  <button class="btn btn-outline-secondary">Copiar</button>
                </div>
                <div class="small-help mt-1">Activa el webhook con <code>setWebhook</code> o usa long polling.</div>
              </div>
            </div>
            <div class="d-flex justify-content-end gap-2 mt-3">
              <button class="btn btn-outline-primary btn-sm">Conectar</button>
              <button class="btn btn-outline-secondary btn-sm" disabled>Probar canal</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Gmail -->
      <div class="col-lg-6">
        <div class="card card-int">
          <div class="card-body">
            <div class="header mb-2">
              <div class="d-flex align-items-center">
                <img class="icon" src="https://cdn-icons-png.flaticon.com/512/888/888853.png" alt="Gmail">
                <h5 class="m-0">Gmail (Atención por email)</h5>
              </div>
              <span class="badge bg-warning text-dark"><span class="status-dot dot-warn"></span>Conectado (revisar permisos)</span>
            </div>
            <p class="small-help mb-3">Autoriza a AutomAI para leer/redactar correos en tu bandeja de soporte.</p>
            <div class="row g-3">
              <div class="col-md-6">
                <label class="form-label">Cuenta vinculada</label>
                <input type="text" class="form-control" value="soporte@tuempresa.com" readonly>
              </div>
              <div class="col-md-6">
                <label class="form-label">Ámbito OAuth</label>
                <select class="form-select">
                  <option selected>Lectura + Envío</option>
                  <option>Solo lectura</option>
                </select>
              </div>
              <div class="col-12">
                <div class="form-check mt-2">
                  <input class="form-check-input" type="checkbox" id="threads">
                  <label class="form-check-label" for="threads">Agrupar hilos por ticket</label>
                </div>
              </div>
            </div>
            <div class="d-flex justify-content-end gap-2 mt-3">
              <button class="btn btn-outline-danger btn-sm">Desconectar</button>
              <button class="btn btn-primary btn-sm">Probar canal</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Web Chat -->
      <div class="col-lg-6">
        <div class="card card-int">
          <div class="card-body">
            <div class="header mb-2">
              <div class="d-flex align-items-center">
                <img class="icon" src="https://cdn-icons-png.flaticon.com/512/5977/5977590.png" alt="WebChat">
                <h5 class="m-0">Web Chat (embebible)</h5>
              </div>
              <span class="badge bg-success"><span class="status-dot dot-ok"></span>Conectado</span>
            </div>
            <p class="small-help mb-3">Inserta el chat en tu web con un snippet de JavaScript.</p>
            <div class="mb-2">
              <label class="form-label">Snippet</label>
              <textarea class="form-control" rows="3" readonly>
<script src="https://cdn.automai.solutions/widget.js"></script>
<script>AutomAI.init({ companyId: "EMP-001", theme: "light" });</script>
              </textarea>
            </div>
            <div class="row g-3">
              <div class="col-md-6">
                <label class="form-label">Tema</label>
                <select class="form-select">
                  <option>Claro</option>
                  <option selected>Oscuro</option>
                </select>
              </div>
              <div class="col-md-6">
                <label class="form-label">Posición</label>
                <select class="form-select">
                  <option>Bottom-right</option>
                  <option>Bottom-left</option>
                </select>
              </div>
            </div>
            <div class="d-flex justify-content-end gap-2 mt-3">
              <button class="btn btn-outline-secondary btn-sm">Copiar snippet</button>
              <button class="btn btn-primary btn-sm">Probar en vivo</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <footer>© 2025 AutomAI Solutions · Integraciones</footer>
  </main>
</body>
</html>
